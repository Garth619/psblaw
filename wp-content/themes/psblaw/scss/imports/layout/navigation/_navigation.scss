// navigation - refer to the resize functions in js->custom-min.js

nav {
  opacity: 0;
  visibility: hidden;
  transform: translateY(-35px);
  background: $color_light_one;
  overflow-y: scroll;
  -webkit-overflow-scrolling: touch;
  transition: opacity 300ms ease-in-out, visibility 300ms ease-in-out,
    transform 600ms cubic-bezier(0.17, 0.66, 0.34, 0.98);
  @include box(100%, 100vh);
  @include fixed(0, null, null, 0);
  @include mq(small_tablet) {
    transform: translate(100%, 0px);
    @include fixed(0, 0, null, auto);
    @include box(360px, 100vh);
  }
  @include mq(small_laptop) {
    opacity: 1;
    visibility: visible;
    transform: translateY(0px);
    position: static;
    @include box(100%, auto);
  }
  &.nav-open {
    opacity: 1;
    visibility: visible;
    transform: translateY(0px);
  }
  #close {
    @include box(28px);
    @include abs(22px, 30px, null, null);
    &:before,
    &:after {
      background: $color_dark_three;
      @include abs(12px, null, null, 0);
      @include box(100%, 2px);
      @include contentdisplay();
    }
    &:before {
      transform: rotate(45deg);
    }
    &:after {
      transform: rotate(-45deg);
    }
  }
  .menu-header {
    margin-top: 75px;
  }
}

nav {
  ul {
    list-style: none;
    li {
      a {
        text-decoration: none;
        padding: 0 60px;
        cursor: pointer;
      }
    }
  }
}

nav {
  ul.menu {
    > li {
      margin-bottom: 50px;
      @include type(
        (
          size: 16px,
          height: 19px,
          family: $primaryfont,
          weight: 800,
        )
      );
      > a {
        color: $color_dark_three;
      }
    }
    > li.current-menu-item {
      > a {
        color: $color_bright_two;
      }
    }
    > li.current-menu-ancestor {
      > a {
        color: $color_bright_two;
      }
    }
    > li.menu-item-has-children {
      background: $color_light_one;
      margin: 0px 0 50px 0;
      transition: all 300ms cubic-bezier(0.17, 0.66, 0.34, 0.98);
      &.active {
        background: $color_light_two;
        padding: 28px 0;
        margin: -35px 0 20px 0;
      }
      > a {
        position: relative;
        display: block;
        &:after {
          @include abs(2px, 40px, null, null);
          @include contentdisplay(block, "+");
        }
        &.active {
          color: $color_bright_two;
          &:after {
            content: "-";
          }
        }
      }
    }
  }
}

nav {
  ul.sub-menu {
    padding: 0px 0 0;
    max-height: 0;
    opacity: 0;
    visibility: hidden;
    transition: all 300ms cubic-bezier(0.17, 0.66, 0.34, 0.98);
    &.active {
      padding: 14px 0 0;
      opacity: 1;
      visibility: visible;
      max-height: 3000px;
    }
    li {
      margin-bottom: 15px;
      @include type(
        (
          size: 16px,
          height: 19px,
          family: $primaryfont,
          weight: 600,
        )
      );
      &:last-of-type {
        margin-bottom: 0;
      }
      a {
        color: #62676d;
        &:hover {
          color: $color_bright_two;
        }
      }
    }
    li.current-menu-item {
      > a {
        color: $color_bright_two;
      }
    }
  }
}
